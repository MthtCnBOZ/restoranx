(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7122],{285:(e,a,r)=>{"use strict";r.d(a,{$:()=>o});var i=r(5155);r(2115);var s=r(9708),l=r(2085),n=r(9434);let t=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:a,variant:r,size:l,asChild:o=!1,...d}=e,c=o?s.DX:"button";return(0,i.jsx)(c,{"data-slot":"button",className:(0,n.cn)(t({variant:r,size:l,className:a})),...d})}},333:(e,a,r)=>{"use strict";r.d(a,{d:()=>n});var i=r(5155);r(2115);var s=r(4884),l=r(9434);function n(e){let{className:a,...r}=e;return(0,i.jsx)(s.bL,{"data-slot":"switch",className:(0,l.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...r,children:(0,i.jsx)(s.zi,{"data-slot":"switch-thumb",className:(0,l.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}},968:(e,a,r)=>{"use strict";r.d(a,{b:()=>t});var i=r(2115),s=r(3655),l=r(5155),n=i.forwardRef((e,a)=>(0,l.jsx)(s.sG.label,{...e,ref:a,onMouseDown:a=>{var r;a.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));n.displayName="Label";var t=n},1275:(e,a,r)=>{"use strict";r.d(a,{X:()=>l});var i=r(2115),s=r(2712);function l(e){let[a,r]=i.useState(void 0);return(0,s.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let a=new ResizeObserver(a=>{let i,s;if(!Array.isArray(a)||!a.length)return;let l=a[0];if("borderBoxSize"in l){let e=l.borderBoxSize,a=Array.isArray(e)?e[0]:e;i=a.inlineSize,s=a.blockSize}else i=e.offsetWidth,s=e.offsetHeight;r({width:i,height:s})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}r(void 0)},[e]),a}},2523:(e,a,r)=>{"use strict";r.d(a,{p:()=>l});var i=r(5155);r(2115);var s=r(9434);function l(e){let{className:a,type:r,...l}=e;return(0,i.jsx)("input",{type:r,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...l})}},4884:(e,a,r)=>{"use strict";r.d(a,{bL:()=>k,zi:()=>N});var i=r(2115),s=r(5185),l=r(6101),n=r(6081),t=r(5845),o=r(5503),d=r(1275),c=r(3655),u=r(5155),h="Switch",[y,m]=(0,n.A)(h),[x,p]=y(h),g=i.forwardRef((e,a)=>{let{__scopeSwitch:r,name:n,checked:o,defaultChecked:d,required:h,disabled:y,value:m="on",onCheckedChange:p,form:g,...v}=e,[f,k]=i.useState(null),N=(0,l.s)(a,e=>k(e)),S=i.useRef(!1),C=!f||g||!!f.closest("form"),[w=!1,z]=(0,t.i)({prop:o,defaultProp:d,onChange:p});return(0,u.jsxs)(x,{scope:r,checked:w,disabled:y,children:[(0,u.jsx)(c.sG.button,{type:"button",role:"switch","aria-checked":w,"aria-required":h,"data-state":j(w),"data-disabled":y?"":void 0,disabled:y,value:m,...v,ref:N,onClick:(0,s.m)(e.onClick,e=>{z(e=>!e),C&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())})}),C&&(0,u.jsx)(b,{control:f,bubbles:!S.current,name:n,value:m,checked:w,required:h,disabled:y,form:g,style:{transform:"translateX(-100%)"}})]})});g.displayName=h;var v="SwitchThumb",f=i.forwardRef((e,a)=>{let{__scopeSwitch:r,...i}=e,s=p(v,r);return(0,u.jsx)(c.sG.span,{"data-state":j(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:a})});f.displayName=v;var b=e=>{let{control:a,checked:r,bubbles:s=!0,...l}=e,n=i.useRef(null),t=(0,o.Z)(r),c=(0,d.X)(a);return i.useEffect(()=>{let e=n.current,a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(t!==r&&a){let i=new Event("click",{bubbles:s});a.call(e,r),e.dispatchEvent(i)}},[t,r,s]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:n,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function j(e){return e?"checked":"unchecked"}var k=g,N=f},5057:(e,a,r)=>{"use strict";r.d(a,{J:()=>n});var i=r(5155);r(2115);var s=r(968),l=r(9434);function n(e){let{className:a,...r}=e;return(0,i.jsx)(s.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...r})}},5503:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});var i=r(2115);function s(e){let a=i.useRef({value:e,previous:e});return i.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}},5821:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>v});var i=r(5155),s=r(2115),l=r(6695),n=r(7313),t=r(285),o=r(2523),d=r(5057),c=r(8539),u=r(6671);function h(e){let{settings:a,isLoading:r,onSettingsUpdated:n}=e,[h,y]=(0,s.useState)({siteName:(null==a?void 0:a.siteName)||"",logo:(null==a?void 0:a.logo)||"",favicon:(null==a?void 0:a.favicon)||"",email:(null==a?void 0:a.email)||"",phone:(null==a?void 0:a.phone)||"",address:(null==a?void 0:a.address)||"",metaTitle:(null==a?void 0:a.metaTitle)||"",metaDescription:(null==a?void 0:a.metaDescription)||"",googleLoginKey:(null==a?void 0:a.googleLoginKey)||""}),[m,x]=(0,s.useState)(!1),[p,g]=(0,s.useState)((null==a?void 0:a.logo)||null),[v,f]=(0,s.useState)((null==a?void 0:a.favicon)||null),[b,j]=(0,s.useState)(null),[k,N]=(0,s.useState)(null),S=(0,s.useRef)(null),C=(0,s.useRef)(null),w=e=>{let{name:a,value:r}=e.target;y(e=>({...e,[a]:r}))},z=(e,a)=>{var r;let i=null===(r=e.target.files)||void 0===r?void 0:r[0];if(!i)return;if(!["image/png","image/svg+xml"].includes(i.type)){u.oR.error("Sadece PNG ve SVG dosyaları y\xfcklenebilir"),e.target.value="";return}if(i.size>1048576){u.oR.error("Dosya boyutu 1MB'dan k\xfc\xe7\xfck olmalıdır"),e.target.value="";return}let s=new FileReader;s.onload=()=>{"logo"===a?(g(s.result),j(i)):(f(s.result),N(i))},s.readAsDataURL(i)},A=async e=>{e.preventDefault(),x(!0);try{let e={...h};if(b||k){let a=new FormData;b&&a.append("logo",b),k&&a.append("favicon",k);let r=await fetch("/api/admin/upload",{method:"POST",body:a});if(!r.ok)throw Error("Dosya y\xfcklenirken bir hata oluştu");let i=await r.json();i.logoPath&&(e.logo=i.logoPath),i.faviconPath&&(e.favicon=i.faviconPath)}let a=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error("Ayarlar kaydedilirken bir hata oluştu");let r=await a.json();y(e=>({...e,...r.settings})),r.settings.logo&&g(r.settings.logo),r.settings.favicon&&f(r.settings.favicon),j(null),N(null),S.current&&(S.current.value=""),C.current&&(C.current.value=""),u.oR.success("Ayarlar başarıyla kaydedildi!"),n&&n()}catch(e){console.error("Ayarlar kaydedilirken hata:",e),u.oR.error("Ayarlar kaydedilirken bir hata oluştu")}finally{x(!1)}},K=e=>{"logo"===e?(g(null),j(null),S.current&&(S.current.value="")):(f(null),N(null),C.current&&(C.current.value=""))};return r?(0,i.jsx)("div",{children:"Y\xfckleniyor..."}):(0,i.jsx)("form",{onSubmit:A,children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Site Bilgileri"}),(0,i.jsx)(l.BT,{children:"Sitenin temel bilgilerini bu alandan d\xfczenleyebilirsiniz."})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"siteName",children:"Site Adı"}),(0,i.jsx)(o.p,{id:"siteName",name:"siteName",value:h.siteName,onChange:w,placeholder:"RestoranX"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"logo",children:"Logo"}),(0,i.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(o.p,{ref:S,id:"logo",name:"logo",type:"file",accept:".png,.svg",className:"max-w-sm",onChange:e=>z(e,"logo")}),p&&(0,i.jsx)(t.$,{variant:"outline",size:"sm",type:"button",onClick:()=>K("logo"),children:"Kaldır"})]}),p&&(0,i.jsx)("div",{className:"border rounded-md p-2 max-w-[200px]",children:(0,i.jsx)("div",{className:"relative aspect-video w-full bg-gray-100 flex items-center justify-center overflow-hidden rounded",children:(0,i.jsx)("img",{src:p,alt:"Logo \xf6nizleme",className:"object-contain max-h-[100px]"})})}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"Yalnızca PNG ve SVG formatları kabul edilir. Maksimum boyut: 1MB"})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"favicon",children:"Favicon"}),(0,i.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(o.p,{ref:C,id:"favicon",name:"favicon",type:"file",accept:".png,.svg",className:"max-w-sm",onChange:e=>z(e,"favicon")}),v&&(0,i.jsx)(t.$,{variant:"outline",size:"sm",type:"button",onClick:()=>K("favicon"),children:"Kaldır"})]}),v&&(0,i.jsx)("div",{className:"border rounded-md p-2 max-w-[100px]",children:(0,i.jsx)("div",{className:"relative aspect-square w-full bg-gray-100 flex items-center justify-center overflow-hidden rounded",children:(0,i.jsx)("img",{src:v,alt:"Favicon \xf6nizleme",className:"object-contain max-h-[32px]"})})}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"Yalnızca PNG ve SVG formatları kabul edilir. Maksimum boyut: 1MB"})]})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"İletişim Bilgileri"}),(0,i.jsx)(l.BT,{children:"İletişim bilgilerinizi bu alandan d\xfczenleyebilirsiniz."})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"email",children:"E-posta"}),(0,i.jsx)(o.p,{id:"email",name:"email",type:"email",value:h.email,onChange:w,placeholder:"info@restoranx.com"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"phone",children:"Telefon"}),(0,i.jsx)(o.p,{id:"phone",name:"phone",value:h.phone,onChange:w,placeholder:"+90 555 123 45 67"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"address",children:"Adres"}),(0,i.jsx)(c.T,{id:"address",name:"address",value:h.address,onChange:w,placeholder:"Adres bilgileri",rows:3})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"SEO Ayarları"}),(0,i.jsx)(l.BT,{children:"Site meta bilgilerini bu alandan d\xfczenleyebilirsiniz."})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"metaTitle",children:"Meta Başlık"}),(0,i.jsx)(o.p,{id:"metaTitle",name:"metaTitle",value:h.metaTitle,onChange:w,placeholder:"RestoranX - Restoran Sipariş Sistemi"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"metaDescription",children:"Meta A\xe7ıklama"}),(0,i.jsx)(c.T,{id:"metaDescription",name:"metaDescription",value:h.metaDescription,onChange:w,placeholder:"RestoranX, restoranlar i\xe7in \xf6zel olarak geliştirilmiş e-ticaret ve sipariş sistemidir.",rows:3})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Google ile Giriş"}),(0,i.jsx)(l.BT,{children:"Google ile giriş yapma \xf6zelliği i\xe7in gerekli API key'leri buradan ekleyebilirsiniz."})]}),(0,i.jsx)(l.Wu,{className:"space-y-4",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"googleLoginKey",children:"Google Client ID"}),(0,i.jsx)(o.p,{id:"googleLoginKey",name:"googleLoginKey",value:h.googleLoginKey,onChange:w,placeholder:"Google Client ID"})]})})]}),(0,i.jsx)(l.wL,{className:"flex justify-end p-6 pt-0",children:(0,i.jsx)(t.$,{type:"submit",disabled:m,children:m?"Kaydediliyor...":"Kaydet"})})]})})}var y=r(333);function m(e){let{settings:a,isLoading:r,onSettingsUpdated:n}=e,[c,h]=(0,s.useState)({paytrKey:(null==a?void 0:a.paytrKey)||"",paytrSalt:(null==a?void 0:a.paytrSalt)||"",paytrMerchantId:(null==a?void 0:a.paytrMerchantId)||"",iyzicoKey:(null==a?void 0:a.iyzicoKey)||"",iyzicoSecretKey:(null==a?void 0:a.iyzicoSecretKey)||"",iyzicoSandboxMode:(null==a?void 0:a.iyzicoSandboxMode)||!1}),[m,x]=(0,s.useState)(!1),p=e=>{let{name:a,value:r}=e.target;h(e=>({...e,[a]:r}))},g=(e,a)=>{h(r=>({...r,[e]:a}))},v=async e=>{e.preventDefault(),x(!0);let a={...c,iyzicoSandboxMode:!!c.iyzicoSandboxMode};console.log("G\xf6nderilen form verileri:",a);try{let e=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!e.ok)throw Error("\xd6deme ayarları kaydedilirken bir hata oluştu");let r=await e.json();console.log("Sunucudan d\xf6nen veri:",r),h(e=>({...e,...r.settings})),u.oR.success("\xd6deme ayarları başarıyla kaydedildi!"),n&&n()}catch(e){console.error("\xd6deme ayarları kaydedilirken hata:",e),u.oR.error("\xd6deme ayarları kaydedilirken bir hata oluştu")}finally{x(!1)}},f=async()=>{if(!c.iyzicoKey||!c.iyzicoSecretKey){u.oR.error("Iyzico API ve Secret Key bilgilerini girmelisiniz");return}x(!0);try{let e=await fetch("/api/admin/payment/test-iyzico",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:c.iyzicoKey,secretKey:c.iyzicoSecretKey,sandbox:c.iyzicoSandboxMode})}),a=await e.json();if(!e.ok)throw Error(a.error||"Iyzico bağlantı testi başarısız oldu");u.oR.success("Iyzico bağlantı testi başarılı!")}catch(e){console.error("Iyzico test hatası:",e),u.oR.error("Iyzico bağlantı testi başarısız oldu")}finally{x(!1)}};return r?(0,i.jsx)("div",{children:"Y\xfckleniyor..."}):(0,i.jsx)("form",{onSubmit:v,children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"PayTR \xd6deme Altyapısı"}),(0,i.jsx)(l.BT,{children:"PayTR \xf6deme sistemi entegrasyonu i\xe7in gerekli API bilgilerini buradan ayarlayabilirsiniz."})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"paytrMerchantId",children:"Merchant ID"}),(0,i.jsx)(o.p,{id:"paytrMerchantId",name:"paytrMerchantId",value:c.paytrMerchantId,onChange:p,placeholder:"PayTR Merchant ID"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"paytrKey",children:"API Key"}),(0,i.jsx)(o.p,{id:"paytrKey",name:"paytrKey",value:c.paytrKey,onChange:p,placeholder:"PayTR API Key"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"paytrSalt",children:"API Salt"}),(0,i.jsx)(o.p,{id:"paytrSalt",name:"paytrSalt",value:c.paytrSalt,onChange:p,placeholder:"PayTR API Salt"})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Iyzico \xd6deme Altyapısı"}),(0,i.jsxs)(l.BT,{children:["Iyzico \xf6deme sistemi entegrasyonu i\xe7in gerekli API bilgilerini buradan ayarlayabilirsiniz.",(0,i.jsxs)("p",{className:"mt-1 text-xs text-muted-foreground",children:["API Anahtarlarınızı ",(0,i.jsx)("a",{href:"https://merchant.iyzipay.com/settings",target:"_blank",rel:"noopener noreferrer",className:"underline text-primary",children:"Iyzico Merchant Paneli"})," \xfczerinden alabilirsiniz."]})]})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"iyzicoKey",children:"API Key"}),(0,i.jsx)(o.p,{id:"iyzicoKey",name:"iyzicoKey",value:c.iyzicoKey,onChange:p,placeholder:"Iyzico API Key"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"iyzicoSecretKey",children:"Secret Key"}),(0,i.jsx)(o.p,{id:"iyzicoSecretKey",name:"iyzicoSecretKey",type:"password",value:c.iyzicoSecretKey,onChange:p,placeholder:"Iyzico Secret Key"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 mt-4",children:[(0,i.jsx)(y.d,{id:"iyzicoSandboxMode",checked:c.iyzicoSandboxMode,onCheckedChange:e=>g("iyzicoSandboxMode",e)}),(0,i.jsx)(d.J,{htmlFor:"iyzicoSandboxMode",children:"Sandbox Modu (Test Modu)"})]}),(0,i.jsx)("div",{className:"pt-2",children:(0,i.jsx)(t.$,{type:"button",variant:"outline",onClick:f,disabled:m||!c.iyzicoKey||!c.iyzicoSecretKey,children:"Iyzico Bağlantısını Test Et"})})]})]}),(0,i.jsx)(l.wL,{className:"flex justify-end p-6 pt-0",children:(0,i.jsx)(t.$,{type:"submit",disabled:m,children:m?"Kaydediliyor...":"Kaydet"})})]})})}function x(e){let{settings:a,isLoading:r,onSettingsUpdated:n}=e,[c,h]=(0,s.useState)({smsApiKey:(null==a?void 0:a.smsApiKey)||"",smsApiSecret:(null==a?void 0:a.smsApiSecret)||"",smsApiSender:(null==a?void 0:a.smsApiSender)||""}),[y,m]=(0,s.useState)(!1),x=e=>{let{name:a,value:r}=e.target;h(e=>({...e,[a]:r}))},p=async e=>{e.preventDefault(),m(!0);try{let e=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!e.ok)throw Error("SMS ayarları kaydedilirken bir hata oluştu");let a=await e.json();h(e=>({...e,...a.settings})),u.oR.success("SMS ayarları başarıyla kaydedildi!"),n&&n()}catch(e){console.error("SMS ayarları kaydedilirken hata:",e),u.oR.error("SMS ayarları kaydedilirken bir hata oluştu")}finally{m(!1)}};return r?(0,i.jsx)("div",{children:"Y\xfckleniyor..."}):(0,i.jsx)("form",{onSubmit:p,children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"SMS Servis Ayarları"}),(0,i.jsx)(l.BT,{children:"T\xfcrkiye'deki SMS servis sağlayıcınız i\xe7in gerekli API bilgilerini buradan ayarlayabilirsiniz."})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"smsApiKey",children:"API Key"}),(0,i.jsx)(o.p,{id:"smsApiKey",name:"smsApiKey",value:c.smsApiKey,onChange:x,placeholder:"SMS API Key"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"smsApiSecret",children:"API Secret"}),(0,i.jsx)(o.p,{id:"smsApiSecret",name:"smsApiSecret",type:"password",value:c.smsApiSecret,onChange:x,placeholder:"SMS API Secret"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"smsApiSender",children:"G\xf6nderici Adı (Başlık)"}),(0,i.jsx)(o.p,{id:"smsApiSender",name:"smsApiSender",value:c.smsApiSender,onChange:x,placeholder:"RestoranX",maxLength:11}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"G\xf6nderici adı maksimum 11 karakter olabilir."})]})]})]}),(0,i.jsx)(l.wL,{className:"flex justify-end p-6 pt-0",children:(0,i.jsx)(t.$,{type:"submit",disabled:y,children:y?"Kaydediliyor...":"Kaydet"})})]})})}function p(e){let{settings:a,isLoading:r,onSettingsUpdated:n}=e,[c,h]=(0,s.useState)({googleAnalyticsId:(null==a?void 0:a.googleAnalyticsId)||"",googleConsoleId:(null==a?void 0:a.googleConsoleId)||""}),[y,m]=(0,s.useState)(!1),x=e=>{let{name:a,value:r}=e.target;h(e=>({...e,[a]:r}))},p=async e=>{e.preventDefault(),m(!0);try{let e=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!e.ok)throw Error("Analitik ayarları kaydedilirken bir hata oluştu");let a=await e.json();h(e=>({...e,...a.settings})),u.oR.success("Analitik ayarları başarıyla kaydedildi!"),n&&n()}catch(e){console.error("Analitik ayarları kaydedilirken hata:",e),u.oR.error("Analitik ayarları kaydedilirken bir hata oluştu")}finally{m(!1)}};return r?(0,i.jsx)("div",{children:"Y\xfckleniyor..."}):(0,i.jsx)("form",{onSubmit:p,children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Google Analytics Ayarları"}),(0,i.jsx)(l.BT,{children:"Google Analytics entegrasyonu i\xe7in Measurement ID bilgisini buradan ekleyebilirsiniz."})]}),(0,i.jsx)(l.Wu,{className:"space-y-4",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"googleAnalyticsId",children:"Google Analytics Measurement ID"}),(0,i.jsx)(o.p,{id:"googleAnalyticsId",name:"googleAnalyticsId",value:c.googleAnalyticsId,onChange:x,placeholder:"G-XXXXXXXXXX"}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:'GA4 i\xe7in "G-" ile başlayan Measurement ID kullanılmalıdır.'})]})})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Google Search Console Ayarları"}),(0,i.jsx)(l.BT,{children:"Google Search Console doğrulama kodunu buradan ekleyebilirsiniz."})]}),(0,i.jsx)(l.Wu,{className:"space-y-4",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"googleConsoleId",children:"Google Site Verification ID"}),(0,i.jsx)(o.p,{id:"googleConsoleId",name:"googleConsoleId",value:c.googleConsoleId,onChange:x,placeholder:"Google Site Verification ID"}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:'meta name="google-site-verification" kodunun i\xe7eriğini girin.'})]})})]}),(0,i.jsx)(l.wL,{className:"flex justify-end p-6 pt-0",children:(0,i.jsx)(t.$,{type:"submit",disabled:y,children:y?"Kaydediliyor...":"Kaydet"})})]})})}function g(e){let{settings:a,isLoading:r,onSettingsUpdated:n}=e,[c,h]=(0,s.useState)({navbarColor:(null==a?void 0:a.navbarColor)||"#ffffff",footerColor:(null==a?void 0:a.footerColor)||"#f8f9fa",primaryColor:(null==a?void 0:a.primaryColor)||"#3b82f6",secondaryColor:(null==a?void 0:a.secondaryColor)||"#6b7280"}),[y,m]=(0,s.useState)(!1),x=e=>{let{name:a,value:r}=e.target;h(e=>({...e,[a]:r}))},p=async e=>{e.preventDefault(),m(!0);try{let e=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!e.ok)throw Error("G\xf6r\xfcn\xfcm ayarları kaydedilirken bir hata oluştu");let a=await e.json();h(e=>({...e,...a.settings})),u.oR.success("G\xf6r\xfcn\xfcm ayarları başarıyla kaydedildi!"),n&&n()}catch(e){console.error("G\xf6r\xfcn\xfcm ayarları kaydedilirken hata:",e),u.oR.error("G\xf6r\xfcn\xfcm ayarları kaydedilirken bir hata oluştu")}finally{m(!1)}};return r?(0,i.jsx)("div",{children:"Y\xfckleniyor..."}):(0,i.jsx)("form",{onSubmit:p,children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Renk Ayarları"}),(0,i.jsx)(l.BT,{children:"Sitenin renk şemasını buradan \xf6zelleştirebilirsiniz."})]}),(0,i.jsx)(l.Wu,{className:"space-y-4",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"primaryColor",children:"Ana Renk"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(o.p,{id:"primaryColor",name:"primaryColor",type:"color",value:c.primaryColor,onChange:x,className:"w-12 h-10 p-1"}),(0,i.jsx)(o.p,{value:c.primaryColor,onChange:x,name:"primaryColor",className:"flex-1"})]}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"Butonlar, linkler ve vurgular i\xe7in ana renk."})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"secondaryColor",children:"İkincil Renk"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(o.p,{id:"secondaryColor",name:"secondaryColor",type:"color",value:c.secondaryColor,onChange:x,className:"w-12 h-10 p-1"}),(0,i.jsx)(o.p,{value:c.secondaryColor,onChange:x,name:"secondaryColor",className:"flex-1"})]}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"G\xf6lgeler, arka planlar i\xe7in ikincil renk."})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"navbarColor",children:"Navbar Rengi"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(o.p,{id:"navbarColor",name:"navbarColor",type:"color",value:c.navbarColor,onChange:x,className:"w-12 h-10 p-1"}),(0,i.jsx)(o.p,{value:c.navbarColor,onChange:x,name:"navbarColor",className:"flex-1"})]}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"\xdcst men\xfc arka plan rengi."})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"footerColor",children:"Footer Rengi"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(o.p,{id:"footerColor",name:"footerColor",type:"color",value:c.footerColor,onChange:x,className:"w-12 h-10 p-1"}),(0,i.jsx)(o.p,{value:c.footerColor,onChange:x,name:"footerColor",className:"flex-1"})]}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"Alt men\xfc arka plan rengi."})]})]})})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Renk \xd6nizleme"}),(0,i.jsx)(l.BT,{children:"Se\xe7tiğiniz renklerin \xf6nizlemesini buradan g\xf6rebilirsiniz."})]}),(0,i.jsx)(l.Wu,{children:(0,i.jsxs)("div",{className:"rounded-md overflow-hidden border",children:[(0,i.jsx)("div",{className:"h-12",style:{backgroundColor:c.navbarColor},children:(0,i.jsxs)("div",{className:"flex items-center h-full px-4",children:[(0,i.jsx)("div",{className:"font-bold",style:{color:c.primaryColor},children:"Logo"}),(0,i.jsxs)("div",{className:"ml-auto flex space-x-2",children:[(0,i.jsx)("div",{className:"px-3 py-1 rounded",style:{backgroundColor:c.primaryColor,color:"white"},children:"Buton"}),(0,i.jsx)("div",{style:{color:c.primaryColor},children:"Link"})]})]})}),(0,i.jsxs)("div",{className:"p-6 min-h-32",style:{backgroundColor:"white"},children:[(0,i.jsx)("div",{className:"mb-2 font-bold",style:{color:c.primaryColor},children:"Başlık"}),(0,i.jsx)("div",{className:"mb-4",style:{color:c.secondaryColor},children:"Alt başlık ve a\xe7ıklamalar"}),(0,i.jsx)("div",{className:"px-4 py-2 rounded inline-block",style:{backgroundColor:c.primaryColor,color:"white"},children:"Ana Buton"}),(0,i.jsx)("div",{className:"px-4 py-2 rounded inline-block ml-2 border",style:{borderColor:c.secondaryColor,color:c.secondaryColor},children:"İkincil Buton"})]}),(0,i.jsx)("div",{className:"h-12 p-4",style:{backgroundColor:c.footerColor},children:(0,i.jsx)("div",{className:"text-sm",style:{color:c.secondaryColor},children:"Footer Alanı"})})]})})]}),(0,i.jsx)(l.wL,{className:"flex justify-end p-6 pt-0",children:(0,i.jsx)(t.$,{type:"submit",disabled:y,children:y?"Kaydediliyor...":"Kaydet"})})]})})}function v(){let[e,a]=(0,s.useState)(!0),[r,t]=(0,s.useState)(null),[o,d]=(0,s.useState)("general"),[c,y]=(0,s.useState)(Date.now()),v=(0,s.useCallback)(async()=>{try{a(!0);let e=await fetch("/api/admin/settings");if(!e.ok)throw Error("Ayarlar y\xfcklenirken bir hata oluştu");let r=await e.json();console.log("Ayarlar y\xfcklendi:",r.settings),t(r.settings)}catch(e){console.error("Ayarlar y\xfcklenirken hata:",e),u.oR.error("Ayarlar y\xfcklenirken bir hata oluştu.")}finally{a(!1)}},[]);(0,s.useEffect)(()=>{v()},[v,c]);let f=()=>{console.log("Ayarlar g\xfcncellendi, yeniden y\xfckleniyor..."),y(Date.now())};return(0,i.jsxs)("div",{className:"container py-4 md:py-6",children:[(0,i.jsxs)("div",{className:"mb-4 md:mb-6",children:[(0,i.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Site Ayarları"}),(0,i.jsx)("p",{className:"text-gray-500 mt-2 text-sm md:text-base",children:"Sitenin genel ayarlarını, \xf6deme sistemlerini ve g\xf6r\xfcn\xfcm\xfcn\xfc buradan y\xf6netebilirsiniz."})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Ayarlar"}),(0,i.jsx)(l.BT,{children:"T\xfcm site ayarlarını buradan yapılandırabilirsiniz."})]}),(0,i.jsx)(l.Wu,{children:(0,i.jsxs)(n.tU,{defaultValue:"general",onValueChange:e=>{d(e)},value:o,children:[(0,i.jsxs)(n.j7,{className:"grid w-full grid-cols-2 md:grid-cols-5 gap-1",children:[(0,i.jsx)(n.Xi,{value:"general",children:"Genel"}),(0,i.jsx)(n.Xi,{value:"payment",children:"\xd6deme"}),(0,i.jsx)(n.Xi,{value:"sms",children:"SMS"}),(0,i.jsx)(n.Xi,{value:"analytics",children:"Analitik"}),(0,i.jsx)(n.Xi,{value:"appearance",children:"G\xf6r\xfcn\xfcm"})]}),(0,i.jsxs)("div",{className:"mt-6",children:[(0,i.jsx)(n.av,{value:"general",children:(0,i.jsx)(h,{settings:r,isLoading:e,onSettingsUpdated:f})}),(0,i.jsx)(n.av,{value:"payment",children:(0,i.jsx)(m,{settings:r,isLoading:e,onSettingsUpdated:f})}),(0,i.jsx)(n.av,{value:"sms",children:(0,i.jsx)(x,{settings:r,isLoading:e,onSettingsUpdated:f})}),(0,i.jsx)(n.av,{value:"analytics",children:(0,i.jsx)(p,{settings:r,isLoading:e,onSettingsUpdated:f})}),(0,i.jsx)(n.av,{value:"appearance",children:(0,i.jsx)(g,{settings:r,isLoading:e,onSettingsUpdated:f})})]})]})})]})]})}},6695:(e,a,r)=>{"use strict";r.d(a,{BT:()=>o,Wu:()=>d,ZB:()=>t,Zp:()=>l,aR:()=>n,wL:()=>c});var i=r(5155);r(2115);var s=r(9434);function l(e){let{className:a,...r}=e;return(0,i.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...r})}function n(e){let{className:a,...r}=e;return(0,i.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...r})}function t(e){let{className:a,...r}=e;return(0,i.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",a),...r})}function o(e){let{className:a,...r}=e;return(0,i.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",a),...r})}function d(e){let{className:a,...r}=e;return(0,i.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",a),...r})}function c(e){let{className:a,...r}=e;return(0,i.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",a),...r})}},7313:(e,a,r)=>{"use strict";r.d(a,{Xi:()=>o,av:()=>d,j7:()=>t,tU:()=>n});var i=r(5155);r(2115);var s=r(64),l=r(9434);function n(e){let{className:a,...r}=e;return(0,i.jsx)(s.bL,{"data-slot":"tabs",className:(0,l.cn)("flex flex-col gap-2",a),...r})}function t(e){let{className:a,...r}=e;return(0,i.jsx)(s.B8,{"data-slot":"tabs-list",className:(0,l.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...r})}function o(e){let{className:a,...r}=e;return(0,i.jsx)(s.l9,{"data-slot":"tabs-trigger",className:(0,l.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...r})}function d(e){let{className:a,...r}=e;return(0,i.jsx)(s.UC,{"data-slot":"tabs-content",className:(0,l.cn)("flex-1 outline-none",a),...r})}},8539:(e,a,r)=>{"use strict";r.d(a,{T:()=>n});var i=r(5155),s=r(2115),l=r(9434);let n=s.forwardRef((e,a)=>{let{className:r,...s}=e;return(0,i.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:a,...s})});n.displayName="Textarea"},8858:(e,a,r)=>{Promise.resolve().then(r.bind(r,5821))},9434:(e,a,r)=>{"use strict";r.d(a,{cn:()=>l});var i=r(2596),s=r(9688);function l(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,s.QP)((0,i.$)(a))}}},e=>{var a=a=>e(e.s=a);e.O(0,[9352,6671,64,8441,1684,7358],()=>a(8858)),_N_E=e.O()}]);