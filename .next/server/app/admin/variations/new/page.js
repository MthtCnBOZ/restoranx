(()=>{var e={};e.id=6480,e.ids=[6480],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16189:(e,r,t)=>{"use strict";var a=t(65773);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},18853:(e,r,t)=>{"use strict";t.d(r,{X:()=>n});var a=t(43210),s=t(66156);function n(e){let[r,t]=a.useState(void 0);return(0,s.N)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(r=>{let a,s;if(!Array.isArray(r)||!r.length)return;let n=r[0];if("borderBoxSize"in n){let e=n.borderBoxSize,r=Array.isArray(e)?e[0]:e;a=r.inlineSize,s=r.blockSize}else a=e.offsetWidth,s=e.offsetHeight;t({width:a,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}t(void 0)},[e]),r}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},28559:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(62688).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34729:(e,r,t)=>{"use strict";t.d(r,{T:()=>i});var a=t(60687),s=t(43210),n=t(4780);let i=s.forwardRef(({className:e,...r},t)=>(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));i.displayName="Textarea"},44493:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>l,ZB:()=>o,Zp:()=>n,aR:()=>i,wL:()=>c});var a=t(60687);t(43210);var s=t(4780);function n({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function i({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function o({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...r})}function d({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...r})}function l({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...r})}function c({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",e),...r})}},54220:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(62688).A)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},54987:(e,r,t)=>{"use strict";t.d(r,{d:()=>i});var a=t(60687);t(43210);var s=t(90270),n=t(4780);function i({className:e,...r}){return(0,a.jsx)(s.bL,{"data-slot":"switch",className:(0,n.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,a.jsx)(s.zi,{"data-slot":"switch-thumb",className:(0,n.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}},58015:(e,r,t)=>{Promise.resolve().then(t.bind(t,91020))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78148:(e,r,t)=>{"use strict";t.d(r,{b:()=>o});var a=t(43210),s=t(14163),n=t(60687),i=a.forwardRef((e,r)=>(0,n.jsx)(s.sG.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var o=i},79551:e=>{"use strict";e.exports=require("url")},80013:(e,r,t)=>{"use strict";t.d(r,{J:()=>i});var a=t(60687);t(43210);var s=t(78148),n=t(4780);function i({className:e,...r}){return(0,a.jsx)(s.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}},83721:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(43210);function s(e){let r=a.useRef({value:e,previous:e});return a.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},89667:(e,r,t)=>{"use strict";t.d(r,{p:()=>n});var a=t(60687);t(43210);var s=t(4780);function n({className:e,type:r,...t}){return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}},90270:(e,r,t)=>{"use strict";t.d(r,{bL:()=>j,zi:()=>w});var a=t(43210),s=t(70569),n=t(98599),i=t(11273),o=t(65551),d=t(83721),l=t(18853),c=t(14163),u=t(60687),p="Switch",[m,h]=(0,i.A)(p),[x,f]=m(p),v=a.forwardRef((e,r)=>{let{__scopeSwitch:t,name:i,checked:d,defaultChecked:l,required:p,disabled:m,value:h="on",onCheckedChange:f,form:v,...b}=e,[g,j]=a.useState(null),w=(0,n.s)(r,e=>j(e)),N=a.useRef(!1),A=!g||v||!!g.closest("form"),[C=!1,P]=(0,o.i)({prop:d,defaultProp:l,onChange:f});return(0,u.jsxs)(x,{scope:t,checked:C,disabled:m,children:[(0,u.jsx)(c.sG.button,{type:"button",role:"switch","aria-checked":C,"aria-required":p,"data-state":k(C),"data-disabled":m?"":void 0,disabled:m,value:h,...b,ref:w,onClick:(0,s.m)(e.onClick,e=>{P(e=>!e),A&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),A&&(0,u.jsx)(y,{control:g,bubbles:!N.current,name:i,value:h,checked:C,required:p,disabled:m,form:v,style:{transform:"translateX(-100%)"}})]})});v.displayName=p;var b="SwitchThumb",g=a.forwardRef((e,r)=>{let{__scopeSwitch:t,...a}=e,s=f(b,t);return(0,u.jsx)(c.sG.span,{"data-state":k(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})});g.displayName=b;var y=e=>{let{control:r,checked:t,bubbles:s=!0,...n}=e,i=a.useRef(null),o=(0,d.Z)(t),c=(0,l.X)(r);return a.useEffect(()=>{let e=i.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==t&&r){let a=new Event("click",{bubbles:s});r.call(e,t),e.dispatchEvent(a)}},[o,t,s]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function k(e){return e?"checked":"unchecked"}var j=v,w=g},90718:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var a=t(60687),s=t(43210),n=t(29523),i=t(44493),o=t(89667),d=t(80013),l=t(34729),c=t(16189),u=t(52581),p=t(85814),m=t.n(p),h=t(28559),x=t(96474),f=t(54220),v=t(11860),b=t(54987);function g(){let e=(0,c.useRouter)(),[r,t]=(0,s.useState)(!1),[p,g]=(0,s.useState)({name:"",description:""}),[y,k]=(0,s.useState)([{name:"",price:"",isDefault:!0}]),j=e=>{let{name:r,value:t}=e.target;g({...p,[r]:t})},w=(e,r,t)=>{let a=[...y];a[e]={...a[e],[r]:t},k(a)},N=e=>{if(1===y.length){u.oR.error("En az bir se\xe7enek gereklidir");return}let r=[...y];r.splice(e,1),y[e].isDefault&&r.length>0&&(r[0].isDefault=!0),k(r)},A=e=>{k(y.map((r,t)=>({...r,isDefault:t===e})))},C=(e,r)=>{if("up"===r&&0===e||"down"===r&&e===y.length-1)return;let t=[...y],a="up"===r?e-1:e+1;[t[e],t[a]]=[t[a],t[e]],k(t)},P=e=>""===e||/^[0-9]*\.?[0-9]*$/.test(e),R=async r=>{r.preventDefault(),t(!0);try{if(!p.name){u.oR.error("Varyasyon adı zorunludur"),t(!1);return}if(y.some(e=>!e.name)){u.oR.error("T\xfcm se\xe7enekler i\xe7in isim belirtilmelidir"),t(!1);return}let r=await fetch("/api/admin/variations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...p,options:y})}),a=await r.json();if(!r.ok)throw Error(a.error||"Varyasyon eklenirken bir hata oluştu");u.oR.success("Varyasyon başarıyla eklendi"),e.push("/admin/variations")}catch(e){console.error("Varyasyon ekleme hatası:",e),u.oR.error(e.message||"Varyasyon eklenirken bir hata oluştu")}finally{t(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsxs)(m(),{href:"/admin/variations",className:"flex items-center gap-1",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),"Geri"]})}),(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Yeni Varyasyon"})]}),(0,a.jsx)(i.Zp,{children:(0,a.jsxs)("form",{onSubmit:R,children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Varyasyon Bilgileri"}),(0,a.jsx)(i.BT,{children:"\xdcr\xfcnlere eklenebilecek yeni bir varyasyon oluşturun (\xf6rn. Boyut, Hamur Tipi, vb.)"})]}),(0,a.jsxs)(i.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)(d.J,{htmlFor:"name",children:["Varyasyon Adı ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(o.p,{id:"name",name:"name",placeholder:"\xd6rn: Pizza Boyutu",value:p.name,onChange:j,required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(d.J,{htmlFor:"description",children:"A\xe7ıklama"}),(0,a.jsx)(l.T,{id:"description",name:"description",placeholder:"Varyasyon hakkında a\xe7ıklama (opsiyonel)",value:p.description,onChange:j,rows:3})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Varyasyon Se\xe7enekleri"}),(0,a.jsxs)(n.$,{type:"button",onClick:()=>{k([...y,{name:"",price:"",isDefault:!1}])},variant:"outline",size:"sm",className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),"Yeni Se\xe7enek Ekle"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:y.map((e,r)=>(0,a.jsx)("div",{className:"border rounded-md p-4 relative",children:(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:[(0,a.jsxs)("div",{className:"col-span-5",children:[(0,a.jsxs)(d.J,{htmlFor:`option-name-${r}`,children:["Se\xe7enek Adı ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(o.p,{id:`option-name-${r}`,placeholder:"\xd6rn: B\xfcy\xfck Boy",value:e.name,onChange:e=>w(r,"name",e.target.value),required:!0,className:"mt-1"})]}),(0,a.jsxs)("div",{className:"col-span-3",children:[(0,a.jsx)(d.J,{htmlFor:`option-price-${r}`,children:"Ek Fiyat (₺)"}),(0,a.jsx)(o.p,{id:`option-price-${r}`,placeholder:"\xd6rn: 10.50",value:e.price,onChange:e=>{P(e.target.value)&&w(r,"price",e.target.value)},className:"mt-1",type:"text",inputMode:"decimal"})]}),(0,a.jsxs)("div",{className:"col-span-4 flex items-end space-x-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,a.jsx)(b.d,{id:`option-default-${r}`,checked:e.isDefault,onCheckedChange:()=>A(r)}),(0,a.jsx)(d.J,{htmlFor:`option-default-${r}`,className:"cursor-pointer",children:"Varsayılan"})]}),(0,a.jsxs)("div",{className:"flex space-x-1 mt-1",children:[(0,a.jsxs)(n.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>C(r,"up"),disabled:0===r,className:"h-8 w-8",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Sırayı Değiştir"})]}),(0,a.jsxs)(n.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>N(r),className:"h-8 w-8 text-red-500 hover:text-red-600",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Sil"})]})]})]})]})},r))})]})]}),(0,a.jsxs)(i.wL,{className:"flex justify-between",children:[(0,a.jsx)(n.$,{type:"button",variant:"outline",onClick:()=>e.push("/admin/variations"),disabled:r,children:"İptal"}),(0,a.jsx)(n.$,{type:"submit",disabled:r,children:r?"Kaydediliyor...":"Varyasyon Ekle"})]})]})})]})}},91020:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\restoran\\\\src\\\\app\\\\admin\\\\variations\\\\new\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\admin\\variations\\new\\page.tsx","default")},94910:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var a=t(65239),s=t(48088),n=t(88170),i=t.n(n),o=t(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let l={children:["",{children:["admin",{children:["variations",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,91020)),"C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\admin\\variations\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,99111)),"C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\admin\\variations\\new\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/variations/new/page",pathname:"/admin/variations/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},94967:(e,r,t)=>{Promise.resolve().then(t.bind(t,90718))},96474:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(62688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[4243,1461,9567,2579,8330,5884],()=>t(94910));module.exports=a})();