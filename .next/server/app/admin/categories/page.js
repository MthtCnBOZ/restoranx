(()=>{var e={};e.id=6631,e.ids=[6631],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16189:(e,s,r)=>{"use strict";var t=r(65773);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},16266:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>j});var t=r(60687),a=r(43210),n=r(29523),i=r(44493),o=r(85814),l=r.n(o),d=r(1303),c=r(57175),p=r(62688);let m=(0,p.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var u=r(88233);let x=(0,p.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var h=r(52581),g=r(16189),f=r(30474);function j(){let e=(0,g.useRouter)(),[s,r]=(0,a.useState)([]),[o,p]=(0,a.useState)(!0),[j,v]=(0,a.useState)(null),y=async e=>{if(confirm("Bu kategoriyi silmek istediğinize emin misiniz?")){v(e);try{let t=await fetch(`/api/admin/categories/${e}`,{method:"DELETE"}),a=await t.json();if(!t.ok){console.log("Sunucudan d\xf6nen hata:",a);let e=a.error?a.error:"Kategori silinirken bir hata oluştu";throw Error(e)}r(s.filter(s=>s.id!==e)),h.oR.success(a.message||"Kategori başarıyla silindi")}catch(e){console.error("Kategori silme hatası:",e),h.oR.error(e.message||"Kategori silinirken bir hata oluştu")}finally{v(null)}}},b=async e=>{try{let t=s.find(s=>s.id===e);if(!t)return;let a=await fetch("/api/admin/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,id:void 0,name:`${t.name} (Kopya)`,slug:`${t.slug}-kopya-${Date.now()}`})});if(!a.ok)throw Error("Kategori kopyalanırken bir hata oluştu");let n=await a.json();r([...s,n.category]),h.oR.success("Kategori başarıyla kopyalandı")}catch(e){console.error("Kategori kopyalama hatası:",e),h.oR.error("Kategori kopyalanırken bir hata oluştu")}},k=e=>{let s=document.createElement("div");return s.innerHTML=e,s.textContent||s.innerText||""};return(0,t.jsxs)("div",{className:"flex flex-col gap-4 md:gap-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Kategoriler"}),(0,t.jsx)(n.$,{asChild:!0,children:(0,t.jsxs)(l(),{href:"/admin/categories/new",className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),"Yeni Kategori Ekle"]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"T\xfcm Kategoriler"}),(0,t.jsx)(i.BT,{children:"Men\xfc kategorilerini d\xfczenleyin, silin veya yenilerini ekleyin"})]}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"flex items-center justify-between border-b p-4 font-medium",children:(0,t.jsxs)("div",{className:"grid grid-cols-8 md:grid-cols-10 gap-2 w-full",children:[(0,t.jsx)("span",{className:"col-span-1",children:"ID"}),(0,t.jsx)("span",{className:"col-span-2",children:"İkon"}),(0,t.jsx)("span",{className:"col-span-3 md:col-span-5",children:"İsim"}),(0,t.jsx)("span",{className:"col-span-2",children:"İşlemler"})]})}),o?(0,t.jsx)("div",{className:"p-4 text-center text-sm",children:"Kategoriler y\xfckleniyor..."}):0===s.length?(0,t.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Hen\xfcz kategori eklenmemiş."}):s.map(s=>(0,t.jsx)("div",{className:"flex items-center justify-between border-b p-4 text-sm",children:(0,t.jsxs)("div",{className:"grid grid-cols-8 md:grid-cols-10 gap-2 w-full items-center",children:[(0,t.jsxs)("span",{className:"col-span-1 text-xs text-muted-foreground",children:[s.id.substring(0,8),"..."]}),(0,t.jsx)("span",{className:"col-span-2",children:s.icon?(0,t.jsx)("div",{className:"h-8 w-8 relative",children:(0,t.jsx)(f.default,{src:s.icon,alt:s.name,fill:!0,sizes:"(max-width: 768px) 32px, 32px",className:"object-contain"})}):(0,t.jsx)("div",{className:"h-8 w-8 bg-gray-100 rounded-full"})}),(0,t.jsxs)("span",{className:"col-span-3 md:col-span-5 font-medium",children:[s.name,s.description&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:[k(s.description).substring(0,100),k(s.description).length>100?"...":""]})]}),(0,t.jsxs)("div",{className:"col-span-2 flex items-center space-x-2",children:[(0,t.jsxs)(n.$,{variant:"ghost",size:"icon",onClick:()=>e.push(`/admin/categories/${s.id}`),children:[(0,t.jsx)(c.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"D\xfczenle"})]}),(0,t.jsxs)(n.$,{variant:"ghost",size:"icon",onClick:()=>b(s.id),children:[(0,t.jsx)(m,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Kopyala"})]}),(0,t.jsxs)(n.$,{variant:"ghost",size:"icon",onClick:()=>y(s.id),disabled:j===s.id,children:[(0,t.jsx)(u.A,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"sr-only",children:"Sil"})]}),(0,t.jsx)(n.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,t.jsxs)(l(),{href:`/category/${s.slug}`,target:"_blank",children:[(0,t.jsx)(x,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"G\xf6r\xfcnt\xfcle"})]})})]})]})},s.id))]})})})]})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24370:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=r(65239),a=r(48088),n=r(88170),i=r.n(n),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let d={children:["",{children:["admin",{children:["categories",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,92967)),"C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\admin\\categories\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,99111)),"C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\admin\\categories\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/categories/page",pathname:"/admin/categories",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44493:(e,s,r)=>{"use strict";r.d(s,{BT:()=>l,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>i,wL:()=>c});var t=r(60687);r(43210);var a=r(4780);function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function o({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function d({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}function c({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",e),...s})}},57175:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},60101:(e,s,r)=>{Promise.resolve().then(r.bind(r,16266))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66181:(e,s,r)=>{Promise.resolve().then(r.bind(r,92967))},79551:e=>{"use strict";e.exports=require("url")},92967:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\restoran\\\\src\\\\app\\\\admin\\\\categories\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\admin\\categories\\page.tsx","default")}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[4243,1461,9567,2579,8330,5256,5884],()=>r(24370));module.exports=t})();