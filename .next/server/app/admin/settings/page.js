(()=>{var e={};e.id=7122,e.ids=[7122],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},18853:(e,a,r)=>{"use strict";r.d(a,{X:()=>l});var i=r(43210),s=r(66156);function l(e){let[a,r]=i.useState(void 0);return(0,s.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let a=new ResizeObserver(a=>{let i,s;if(!Array.isArray(a)||!a.length)return;let l=a[0];if("borderBoxSize"in l){let e=l.borderBoxSize,a=Array.isArray(e)?e[0]:e;i=a.inlineSize,s=a.blockSize}else i=e.offsetWidth,s=e.offsetHeight;r({width:i,height:s})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}r(void 0)},[e]),a}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20326:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>t.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var i=r(65239),s=r(48088),l=r(88170),t=r.n(l),n=r(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(a,o);let d={children:["",{children:["admin",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,22542)),"C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\admin\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,99111)),"C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\admin\\settings\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new i.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/settings/page",pathname:"/admin/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},22542:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>i});let i=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\restoran\\\\src\\\\app\\\\admin\\\\settings\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Administrator\\Desktop\\restoran\\src\\app\\admin\\settings\\page.tsx","default")},29278:(e,a,r)=>{Promise.resolve().then(r.bind(r,46170))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34006:(e,a,r)=>{Promise.resolve().then(r.bind(r,22542))},34729:(e,a,r)=>{"use strict";r.d(a,{T:()=>t});var i=r(60687),s=r(43210),l=r(4780);let t=s.forwardRef(({className:e,...a},r)=>(0,i.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...a}));t.displayName="Textarea"},44493:(e,a,r)=>{"use strict";r.d(a,{BT:()=>o,Wu:()=>d,ZB:()=>n,Zp:()=>l,aR:()=>t,wL:()=>c});var i=r(60687);r(43210);var s=r(4780);function l({className:e,...a}){return(0,i.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function t({className:e,...a}){return(0,i.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function n({className:e,...a}){return(0,i.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function o({className:e,...a}){return(0,i.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function d({className:e,...a}){return(0,i.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}function c({className:e,...a}){return(0,i.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",e),...a})}},46170:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>j});var i=r(60687),s=r(43210),l=r(44493),t=r(85763),n=r(29523),o=r(89667),d=r(80013),c=r(34729),p=r(52581);function m({settings:e,isLoading:a,onSettingsUpdated:r}){let[t,m]=(0,s.useState)({siteName:e?.siteName||"",logo:e?.logo||"",favicon:e?.favicon||"",email:e?.email||"",phone:e?.phone||"",address:e?.address||"",metaTitle:e?.metaTitle||"",metaDescription:e?.metaDescription||"",googleLoginKey:e?.googleLoginKey||""}),[u,y]=(0,s.useState)(!1),[h,x]=(0,s.useState)(e?.logo||null),[g,j]=(0,s.useState)(e?.favicon||null),[f,v]=(0,s.useState)(null),[b,k]=(0,s.useState)(null),N=(0,s.useRef)(null),S=(0,s.useRef)(null),C=e=>{let{name:a,value:r}=e.target;m(e=>({...e,[a]:r}))},w=(e,a)=>{let r=e.target.files?.[0];if(!r)return;if(!["image/png","image/svg+xml"].includes(r.type)){p.oR.error("Sadece PNG ve SVG dosyaları y\xfcklenebilir"),e.target.value="";return}if(r.size>1048576){p.oR.error("Dosya boyutu 1MB'dan k\xfc\xe7\xfck olmalıdır"),e.target.value="";return}let i=new FileReader;i.onload=()=>{"logo"===a?(x(i.result),v(r)):(j(i.result),k(r))},i.readAsDataURL(r)},A=async e=>{e.preventDefault(),y(!0);try{let e={...t};if(f||b){let a=new FormData;f&&a.append("logo",f),b&&a.append("favicon",b);let r=await fetch("/api/admin/upload",{method:"POST",body:a});if(!r.ok)throw Error("Dosya y\xfcklenirken bir hata oluştu");let i=await r.json();i.logoPath&&(e.logo=i.logoPath),i.faviconPath&&(e.favicon=i.faviconPath)}let a=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error("Ayarlar kaydedilirken bir hata oluştu");let i=await a.json();m(e=>({...e,...i.settings})),i.settings.logo&&x(i.settings.logo),i.settings.favicon&&j(i.settings.favicon),v(null),k(null),N.current&&(N.current.value=""),S.current&&(S.current.value=""),p.oR.success("Ayarlar başarıyla kaydedildi!"),r&&r()}catch(e){console.error("Ayarlar kaydedilirken hata:",e),p.oR.error("Ayarlar kaydedilirken bir hata oluştu")}finally{y(!1)}},z=e=>{"logo"===e?(x(null),v(null),N.current&&(N.current.value="")):(j(null),k(null),S.current&&(S.current.value=""))};return a?(0,i.jsx)("div",{children:"Y\xfckleniyor..."}):(0,i.jsx)("form",{onSubmit:A,children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Site Bilgileri"}),(0,i.jsx)(l.BT,{children:"Sitenin temel bilgilerini bu alandan d\xfczenleyebilirsiniz."})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"siteName",children:"Site Adı"}),(0,i.jsx)(o.p,{id:"siteName",name:"siteName",value:t.siteName,onChange:C,placeholder:"RestoranX"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"logo",children:"Logo"}),(0,i.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(o.p,{ref:N,id:"logo",name:"logo",type:"file",accept:".png,.svg",className:"max-w-sm",onChange:e=>w(e,"logo")}),h&&(0,i.jsx)(n.$,{variant:"outline",size:"sm",type:"button",onClick:()=>z("logo"),children:"Kaldır"})]}),h&&(0,i.jsx)("div",{className:"border rounded-md p-2 max-w-[200px]",children:(0,i.jsx)("div",{className:"relative aspect-video w-full bg-gray-100 flex items-center justify-center overflow-hidden rounded",children:(0,i.jsx)("img",{src:h,alt:"Logo \xf6nizleme",className:"object-contain max-h-[100px]"})})}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"Yalnızca PNG ve SVG formatları kabul edilir. Maksimum boyut: 1MB"})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"favicon",children:"Favicon"}),(0,i.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(o.p,{ref:S,id:"favicon",name:"favicon",type:"file",accept:".png,.svg",className:"max-w-sm",onChange:e=>w(e,"favicon")}),g&&(0,i.jsx)(n.$,{variant:"outline",size:"sm",type:"button",onClick:()=>z("favicon"),children:"Kaldır"})]}),g&&(0,i.jsx)("div",{className:"border rounded-md p-2 max-w-[100px]",children:(0,i.jsx)("div",{className:"relative aspect-square w-full bg-gray-100 flex items-center justify-center overflow-hidden rounded",children:(0,i.jsx)("img",{src:g,alt:"Favicon \xf6nizleme",className:"object-contain max-h-[32px]"})})}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"Yalnızca PNG ve SVG formatları kabul edilir. Maksimum boyut: 1MB"})]})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"İletişim Bilgileri"}),(0,i.jsx)(l.BT,{children:"İletişim bilgilerinizi bu alandan d\xfczenleyebilirsiniz."})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"email",children:"E-posta"}),(0,i.jsx)(o.p,{id:"email",name:"email",type:"email",value:t.email,onChange:C,placeholder:"info@restoranx.com"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"phone",children:"Telefon"}),(0,i.jsx)(o.p,{id:"phone",name:"phone",value:t.phone,onChange:C,placeholder:"+90 555 123 45 67"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"address",children:"Adres"}),(0,i.jsx)(c.T,{id:"address",name:"address",value:t.address,onChange:C,placeholder:"Adres bilgileri",rows:3})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"SEO Ayarları"}),(0,i.jsx)(l.BT,{children:"Site meta bilgilerini bu alandan d\xfczenleyebilirsiniz."})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"metaTitle",children:"Meta Başlık"}),(0,i.jsx)(o.p,{id:"metaTitle",name:"metaTitle",value:t.metaTitle,onChange:C,placeholder:"RestoranX - Restoran Sipariş Sistemi"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"metaDescription",children:"Meta A\xe7ıklama"}),(0,i.jsx)(c.T,{id:"metaDescription",name:"metaDescription",value:t.metaDescription,onChange:C,placeholder:"RestoranX, restoranlar i\xe7in \xf6zel olarak geliştirilmiş e-ticaret ve sipariş sistemidir.",rows:3})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Google ile Giriş"}),(0,i.jsx)(l.BT,{children:"Google ile giriş yapma \xf6zelliği i\xe7in gerekli API key'leri buradan ekleyebilirsiniz."})]}),(0,i.jsx)(l.Wu,{className:"space-y-4",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"googleLoginKey",children:"Google Client ID"}),(0,i.jsx)(o.p,{id:"googleLoginKey",name:"googleLoginKey",value:t.googleLoginKey,onChange:C,placeholder:"Google Client ID"})]})})]}),(0,i.jsx)(l.wL,{className:"flex justify-end p-6 pt-0",children:(0,i.jsx)(n.$,{type:"submit",disabled:u,children:u?"Kaydediliyor...":"Kaydet"})})]})})}var u=r(54987);function y({settings:e,isLoading:a,onSettingsUpdated:r}){let[t,c]=(0,s.useState)({paytrKey:e?.paytrKey||"",paytrSalt:e?.paytrSalt||"",paytrMerchantId:e?.paytrMerchantId||"",iyzicoKey:e?.iyzicoKey||"",iyzicoSecretKey:e?.iyzicoSecretKey||"",iyzicoSandboxMode:e?.iyzicoSandboxMode||!1}),[m,y]=(0,s.useState)(!1),h=e=>{let{name:a,value:r}=e.target;c(e=>({...e,[a]:r}))},x=(e,a)=>{c(r=>({...r,[e]:a}))},g=async e=>{e.preventDefault(),y(!0);let a={...t,iyzicoSandboxMode:!!t.iyzicoSandboxMode};console.log("G\xf6nderilen form verileri:",a);try{let e=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!e.ok)throw Error("\xd6deme ayarları kaydedilirken bir hata oluştu");let i=await e.json();console.log("Sunucudan d\xf6nen veri:",i),c(e=>({...e,...i.settings})),p.oR.success("\xd6deme ayarları başarıyla kaydedildi!"),r&&r()}catch(e){console.error("\xd6deme ayarları kaydedilirken hata:",e),p.oR.error("\xd6deme ayarları kaydedilirken bir hata oluştu")}finally{y(!1)}},j=async()=>{if(!t.iyzicoKey||!t.iyzicoSecretKey){p.oR.error("Iyzico API ve Secret Key bilgilerini girmelisiniz");return}y(!0);try{let e=await fetch("/api/admin/payment/test-iyzico",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:t.iyzicoKey,secretKey:t.iyzicoSecretKey,sandbox:t.iyzicoSandboxMode})}),a=await e.json();if(!e.ok)throw Error(a.error||"Iyzico bağlantı testi başarısız oldu");p.oR.success("Iyzico bağlantı testi başarılı!")}catch(e){console.error("Iyzico test hatası:",e),p.oR.error("Iyzico bağlantı testi başarısız oldu")}finally{y(!1)}};return a?(0,i.jsx)("div",{children:"Y\xfckleniyor..."}):(0,i.jsx)("form",{onSubmit:g,children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"PayTR \xd6deme Altyapısı"}),(0,i.jsx)(l.BT,{children:"PayTR \xf6deme sistemi entegrasyonu i\xe7in gerekli API bilgilerini buradan ayarlayabilirsiniz."})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"paytrMerchantId",children:"Merchant ID"}),(0,i.jsx)(o.p,{id:"paytrMerchantId",name:"paytrMerchantId",value:t.paytrMerchantId,onChange:h,placeholder:"PayTR Merchant ID"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"paytrKey",children:"API Key"}),(0,i.jsx)(o.p,{id:"paytrKey",name:"paytrKey",value:t.paytrKey,onChange:h,placeholder:"PayTR API Key"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"paytrSalt",children:"API Salt"}),(0,i.jsx)(o.p,{id:"paytrSalt",name:"paytrSalt",value:t.paytrSalt,onChange:h,placeholder:"PayTR API Salt"})]})]})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Iyzico \xd6deme Altyapısı"}),(0,i.jsxs)(l.BT,{children:["Iyzico \xf6deme sistemi entegrasyonu i\xe7in gerekli API bilgilerini buradan ayarlayabilirsiniz.",(0,i.jsxs)("p",{className:"mt-1 text-xs text-muted-foreground",children:["API Anahtarlarınızı ",(0,i.jsx)("a",{href:"https://merchant.iyzipay.com/settings",target:"_blank",rel:"noopener noreferrer",className:"underline text-primary",children:"Iyzico Merchant Paneli"})," \xfczerinden alabilirsiniz."]})]})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"iyzicoKey",children:"API Key"}),(0,i.jsx)(o.p,{id:"iyzicoKey",name:"iyzicoKey",value:t.iyzicoKey,onChange:h,placeholder:"Iyzico API Key"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"iyzicoSecretKey",children:"Secret Key"}),(0,i.jsx)(o.p,{id:"iyzicoSecretKey",name:"iyzicoSecretKey",type:"password",value:t.iyzicoSecretKey,onChange:h,placeholder:"Iyzico Secret Key"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 mt-4",children:[(0,i.jsx)(u.d,{id:"iyzicoSandboxMode",checked:t.iyzicoSandboxMode,onCheckedChange:e=>x("iyzicoSandboxMode",e)}),(0,i.jsx)(d.J,{htmlFor:"iyzicoSandboxMode",children:"Sandbox Modu (Test Modu)"})]}),(0,i.jsx)("div",{className:"pt-2",children:(0,i.jsx)(n.$,{type:"button",variant:"outline",onClick:j,disabled:m||!t.iyzicoKey||!t.iyzicoSecretKey,children:"Iyzico Bağlantısını Test Et"})})]})]}),(0,i.jsx)(l.wL,{className:"flex justify-end p-6 pt-0",children:(0,i.jsx)(n.$,{type:"submit",disabled:m,children:m?"Kaydediliyor...":"Kaydet"})})]})})}function h({settings:e,isLoading:a,onSettingsUpdated:r}){let[t,c]=(0,s.useState)({smsApiKey:e?.smsApiKey||"",smsApiSecret:e?.smsApiSecret||"",smsApiSender:e?.smsApiSender||""}),[m,u]=(0,s.useState)(!1),y=e=>{let{name:a,value:r}=e.target;c(e=>({...e,[a]:r}))},h=async e=>{e.preventDefault(),u(!0);try{let e=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error("SMS ayarları kaydedilirken bir hata oluştu");let a=await e.json();c(e=>({...e,...a.settings})),p.oR.success("SMS ayarları başarıyla kaydedildi!"),r&&r()}catch(e){console.error("SMS ayarları kaydedilirken hata:",e),p.oR.error("SMS ayarları kaydedilirken bir hata oluştu")}finally{u(!1)}};return a?(0,i.jsx)("div",{children:"Y\xfckleniyor..."}):(0,i.jsx)("form",{onSubmit:h,children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"SMS Servis Ayarları"}),(0,i.jsx)(l.BT,{children:"T\xfcrkiye'deki SMS servis sağlayıcınız i\xe7in gerekli API bilgilerini buradan ayarlayabilirsiniz."})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"smsApiKey",children:"API Key"}),(0,i.jsx)(o.p,{id:"smsApiKey",name:"smsApiKey",value:t.smsApiKey,onChange:y,placeholder:"SMS API Key"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"smsApiSecret",children:"API Secret"}),(0,i.jsx)(o.p,{id:"smsApiSecret",name:"smsApiSecret",type:"password",value:t.smsApiSecret,onChange:y,placeholder:"SMS API Secret"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"smsApiSender",children:"G\xf6nderici Adı (Başlık)"}),(0,i.jsx)(o.p,{id:"smsApiSender",name:"smsApiSender",value:t.smsApiSender,onChange:y,placeholder:"RestoranX",maxLength:11}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"G\xf6nderici adı maksimum 11 karakter olabilir."})]})]})]}),(0,i.jsx)(l.wL,{className:"flex justify-end p-6 pt-0",children:(0,i.jsx)(n.$,{type:"submit",disabled:m,children:m?"Kaydediliyor...":"Kaydet"})})]})})}function x({settings:e,isLoading:a,onSettingsUpdated:r}){let[t,c]=(0,s.useState)({googleAnalyticsId:e?.googleAnalyticsId||"",googleConsoleId:e?.googleConsoleId||""}),[m,u]=(0,s.useState)(!1),y=e=>{let{name:a,value:r}=e.target;c(e=>({...e,[a]:r}))},h=async e=>{e.preventDefault(),u(!0);try{let e=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error("Analitik ayarları kaydedilirken bir hata oluştu");let a=await e.json();c(e=>({...e,...a.settings})),p.oR.success("Analitik ayarları başarıyla kaydedildi!"),r&&r()}catch(e){console.error("Analitik ayarları kaydedilirken hata:",e),p.oR.error("Analitik ayarları kaydedilirken bir hata oluştu")}finally{u(!1)}};return a?(0,i.jsx)("div",{children:"Y\xfckleniyor..."}):(0,i.jsx)("form",{onSubmit:h,children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Google Analytics Ayarları"}),(0,i.jsx)(l.BT,{children:"Google Analytics entegrasyonu i\xe7in Measurement ID bilgisini buradan ekleyebilirsiniz."})]}),(0,i.jsx)(l.Wu,{className:"space-y-4",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"googleAnalyticsId",children:"Google Analytics Measurement ID"}),(0,i.jsx)(o.p,{id:"googleAnalyticsId",name:"googleAnalyticsId",value:t.googleAnalyticsId,onChange:y,placeholder:"G-XXXXXXXXXX"}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:'GA4 i\xe7in "G-" ile başlayan Measurement ID kullanılmalıdır.'})]})})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Google Search Console Ayarları"}),(0,i.jsx)(l.BT,{children:"Google Search Console doğrulama kodunu buradan ekleyebilirsiniz."})]}),(0,i.jsx)(l.Wu,{className:"space-y-4",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"googleConsoleId",children:"Google Site Verification ID"}),(0,i.jsx)(o.p,{id:"googleConsoleId",name:"googleConsoleId",value:t.googleConsoleId,onChange:y,placeholder:"Google Site Verification ID"}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:'meta name="google-site-verification" kodunun i\xe7eriğini girin.'})]})})]}),(0,i.jsx)(l.wL,{className:"flex justify-end p-6 pt-0",children:(0,i.jsx)(n.$,{type:"submit",disabled:m,children:m?"Kaydediliyor...":"Kaydet"})})]})})}function g({settings:e,isLoading:a,onSettingsUpdated:r}){let[t,c]=(0,s.useState)({navbarColor:e?.navbarColor||"#ffffff",footerColor:e?.footerColor||"#f8f9fa",primaryColor:e?.primaryColor||"#3b82f6",secondaryColor:e?.secondaryColor||"#6b7280"}),[m,u]=(0,s.useState)(!1),y=e=>{let{name:a,value:r}=e.target;c(e=>({...e,[a]:r}))},h=async e=>{e.preventDefault(),u(!0);try{let e=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error("G\xf6r\xfcn\xfcm ayarları kaydedilirken bir hata oluştu");let a=await e.json();c(e=>({...e,...a.settings})),p.oR.success("G\xf6r\xfcn\xfcm ayarları başarıyla kaydedildi!"),r&&r()}catch(e){console.error("G\xf6r\xfcn\xfcm ayarları kaydedilirken hata:",e),p.oR.error("G\xf6r\xfcn\xfcm ayarları kaydedilirken bir hata oluştu")}finally{u(!1)}};return a?(0,i.jsx)("div",{children:"Y\xfckleniyor..."}):(0,i.jsx)("form",{onSubmit:h,children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Renk Ayarları"}),(0,i.jsx)(l.BT,{children:"Sitenin renk şemasını buradan \xf6zelleştirebilirsiniz."})]}),(0,i.jsx)(l.Wu,{className:"space-y-4",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"primaryColor",children:"Ana Renk"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(o.p,{id:"primaryColor",name:"primaryColor",type:"color",value:t.primaryColor,onChange:y,className:"w-12 h-10 p-1"}),(0,i.jsx)(o.p,{value:t.primaryColor,onChange:y,name:"primaryColor",className:"flex-1"})]}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"Butonlar, linkler ve vurgular i\xe7in ana renk."})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"secondaryColor",children:"İkincil Renk"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(o.p,{id:"secondaryColor",name:"secondaryColor",type:"color",value:t.secondaryColor,onChange:y,className:"w-12 h-10 p-1"}),(0,i.jsx)(o.p,{value:t.secondaryColor,onChange:y,name:"secondaryColor",className:"flex-1"})]}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"G\xf6lgeler, arka planlar i\xe7in ikincil renk."})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"navbarColor",children:"Navbar Rengi"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(o.p,{id:"navbarColor",name:"navbarColor",type:"color",value:t.navbarColor,onChange:y,className:"w-12 h-10 p-1"}),(0,i.jsx)(o.p,{value:t.navbarColor,onChange:y,name:"navbarColor",className:"flex-1"})]}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"\xdcst men\xfc arka plan rengi."})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d.J,{htmlFor:"footerColor",children:"Footer Rengi"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(o.p,{id:"footerColor",name:"footerColor",type:"color",value:t.footerColor,onChange:y,className:"w-12 h-10 p-1"}),(0,i.jsx)(o.p,{value:t.footerColor,onChange:y,name:"footerColor",className:"flex-1"})]}),(0,i.jsx)("p",{className:"text-xs text-gray-500",children:"Alt men\xfc arka plan rengi."})]})]})})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Renk \xd6nizleme"}),(0,i.jsx)(l.BT,{children:"Se\xe7tiğiniz renklerin \xf6nizlemesini buradan g\xf6rebilirsiniz."})]}),(0,i.jsx)(l.Wu,{children:(0,i.jsxs)("div",{className:"rounded-md overflow-hidden border",children:[(0,i.jsx)("div",{className:"h-12",style:{backgroundColor:t.navbarColor},children:(0,i.jsxs)("div",{className:"flex items-center h-full px-4",children:[(0,i.jsx)("div",{className:"font-bold",style:{color:t.primaryColor},children:"Logo"}),(0,i.jsxs)("div",{className:"ml-auto flex space-x-2",children:[(0,i.jsx)("div",{className:"px-3 py-1 rounded",style:{backgroundColor:t.primaryColor,color:"white"},children:"Buton"}),(0,i.jsx)("div",{style:{color:t.primaryColor},children:"Link"})]})]})}),(0,i.jsxs)("div",{className:"p-6 min-h-32",style:{backgroundColor:"white"},children:[(0,i.jsx)("div",{className:"mb-2 font-bold",style:{color:t.primaryColor},children:"Başlık"}),(0,i.jsx)("div",{className:"mb-4",style:{color:t.secondaryColor},children:"Alt başlık ve a\xe7ıklamalar"}),(0,i.jsx)("div",{className:"px-4 py-2 rounded inline-block",style:{backgroundColor:t.primaryColor,color:"white"},children:"Ana Buton"}),(0,i.jsx)("div",{className:"px-4 py-2 rounded inline-block ml-2 border",style:{borderColor:t.secondaryColor,color:t.secondaryColor},children:"İkincil Buton"})]}),(0,i.jsx)("div",{className:"h-12 p-4",style:{backgroundColor:t.footerColor},children:(0,i.jsx)("div",{className:"text-sm",style:{color:t.secondaryColor},children:"Footer Alanı"})})]})})]}),(0,i.jsx)(l.wL,{className:"flex justify-end p-6 pt-0",children:(0,i.jsx)(n.$,{type:"submit",disabled:m,children:m?"Kaydediliyor...":"Kaydet"})})]})})}function j(){let[e,a]=(0,s.useState)(!0),[r,n]=(0,s.useState)(null),[o,d]=(0,s.useState)("general"),[c,u]=(0,s.useState)(Date.now());(0,s.useCallback)(async()=>{try{a(!0);let e=await fetch("/api/admin/settings");if(!e.ok)throw Error("Ayarlar y\xfcklenirken bir hata oluştu");let r=await e.json();console.log("Ayarlar y\xfcklendi:",r.settings),n(r.settings)}catch(e){console.error("Ayarlar y\xfcklenirken hata:",e),p.oR.error("Ayarlar y\xfcklenirken bir hata oluştu.")}finally{a(!1)}},[]);let j=()=>{console.log("Ayarlar g\xfcncellendi, yeniden y\xfckleniyor..."),u(Date.now())};return(0,i.jsxs)("div",{className:"container py-4 md:py-6",children:[(0,i.jsxs)("div",{className:"mb-4 md:mb-6",children:[(0,i.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Site Ayarları"}),(0,i.jsx)("p",{className:"text-gray-500 mt-2 text-sm md:text-base",children:"Sitenin genel ayarlarını, \xf6deme sistemlerini ve g\xf6r\xfcn\xfcm\xfcn\xfc buradan y\xf6netebilirsiniz."})]}),(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Ayarlar"}),(0,i.jsx)(l.BT,{children:"T\xfcm site ayarlarını buradan yapılandırabilirsiniz."})]}),(0,i.jsx)(l.Wu,{children:(0,i.jsxs)(t.tU,{defaultValue:"general",onValueChange:e=>{d(e)},value:o,children:[(0,i.jsxs)(t.j7,{className:"grid w-full grid-cols-2 md:grid-cols-5 gap-1",children:[(0,i.jsx)(t.Xi,{value:"general",children:"Genel"}),(0,i.jsx)(t.Xi,{value:"payment",children:"\xd6deme"}),(0,i.jsx)(t.Xi,{value:"sms",children:"SMS"}),(0,i.jsx)(t.Xi,{value:"analytics",children:"Analitik"}),(0,i.jsx)(t.Xi,{value:"appearance",children:"G\xf6r\xfcn\xfcm"})]}),(0,i.jsxs)("div",{className:"mt-6",children:[(0,i.jsx)(t.av,{value:"general",children:(0,i.jsx)(m,{settings:r,isLoading:e,onSettingsUpdated:j})}),(0,i.jsx)(t.av,{value:"payment",children:(0,i.jsx)(y,{settings:r,isLoading:e,onSettingsUpdated:j})}),(0,i.jsx)(t.av,{value:"sms",children:(0,i.jsx)(h,{settings:r,isLoading:e,onSettingsUpdated:j})}),(0,i.jsx)(t.av,{value:"analytics",children:(0,i.jsx)(x,{settings:r,isLoading:e,onSettingsUpdated:j})}),(0,i.jsx)(t.av,{value:"appearance",children:(0,i.jsx)(g,{settings:r,isLoading:e,onSettingsUpdated:j})})]})]})})]})]})}},54987:(e,a,r)=>{"use strict";r.d(a,{d:()=>t});var i=r(60687);r(43210);var s=r(90270),l=r(4780);function t({className:e,...a}){return(0,i.jsx)(s.bL,{"data-slot":"switch",className:(0,l.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,i.jsx)(s.zi,{"data-slot":"switch-thumb",className:(0,l.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78148:(e,a,r)=>{"use strict";r.d(a,{b:()=>n});var i=r(43210),s=r(14163),l=r(60687),t=i.forwardRef((e,a)=>(0,l.jsx)(s.sG.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));t.displayName="Label";var n=t},79551:e=>{"use strict";e.exports=require("url")},80013:(e,a,r)=>{"use strict";r.d(a,{J:()=>t});var i=r(60687);r(43210);var s=r(78148),l=r(4780);function t({className:e,...a}){return(0,i.jsx)(s.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}},83721:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});var i=r(43210);function s(e){let a=i.useRef({value:e,previous:e});return i.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}},89667:(e,a,r)=>{"use strict";r.d(a,{p:()=>l});var i=r(60687);r(43210);var s=r(4780);function l({className:e,type:a,...r}){return(0,i.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}},90270:(e,a,r)=>{"use strict";r.d(a,{bL:()=>k,zi:()=>N});var i=r(43210),s=r(70569),l=r(98599),t=r(11273),n=r(65551),o=r(83721),d=r(18853),c=r(14163),p=r(60687),m="Switch",[u,y]=(0,t.A)(m),[h,x]=u(m),g=i.forwardRef((e,a)=>{let{__scopeSwitch:r,name:t,checked:o,defaultChecked:d,required:m,disabled:u,value:y="on",onCheckedChange:x,form:g,...j}=e,[f,k]=i.useState(null),N=(0,l.s)(a,e=>k(e)),S=i.useRef(!1),C=!f||g||!!f.closest("form"),[w=!1,A]=(0,n.i)({prop:o,defaultProp:d,onChange:x});return(0,p.jsxs)(h,{scope:r,checked:w,disabled:u,children:[(0,p.jsx)(c.sG.button,{type:"button",role:"switch","aria-checked":w,"aria-required":m,"data-state":b(w),"data-disabled":u?"":void 0,disabled:u,value:y,...j,ref:N,onClick:(0,s.m)(e.onClick,e=>{A(e=>!e),C&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())})}),C&&(0,p.jsx)(v,{control:f,bubbles:!S.current,name:t,value:y,checked:w,required:m,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});g.displayName=m;var j="SwitchThumb",f=i.forwardRef((e,a)=>{let{__scopeSwitch:r,...i}=e,s=x(j,r);return(0,p.jsx)(c.sG.span,{"data-state":b(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:a})});f.displayName=j;var v=e=>{let{control:a,checked:r,bubbles:s=!0,...l}=e,t=i.useRef(null),n=(0,o.Z)(r),c=(0,d.X)(a);return i.useEffect(()=>{let e=t.current,a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==r&&a){let i=new Event("click",{bubbles:s});a.call(e,r),e.dispatchEvent(i)}},[n,r,s]),(0,p.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:t,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b(e){return e?"checked":"unchecked"}var k=g,N=f}};var a=require("../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),i=a.X(0,[4243,1461,9567,2579,8330,5884],()=>r(20326));module.exports=i})();